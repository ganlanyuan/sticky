var sticky=function(){"use strict";return function(t){function i(t){this.sticky=t,this.stickyClassNames=this.sticky.className,this.isInRange=!1,this.isWrapped=!1,this.isSticking=!1,this.isFixed=!1,this.isAbsolute=!1,this.stickyRectEdge=0,this.containerRectEdge=!1,this.init();var i=this;gn.optimizedResize.add(function(){i.onResize()}),window.addEventListener("scroll",function(){i.ticking=!1,i.isWrapped&&(i.stickyRectEdge=i.jsWrapper.getBoundingClientRect()[c],i.containerRectEdge=!!s&&s.getBoundingClientRect().bottom,i.ticking||window.requestAnimationFrame(function(){i.isWrapped&&i.onScroll(),i.ticking=!1}),i.ticking=!0)})}t=gn.extend({"sticky":".sticky","container":!1,"padding":0,"position":"top","breakpoints":!1},t||{});var s,e=t.breakpoints,n=t.padding,c=t.position,h=window.innerWidth,o=window.innerHeight;i.prototype={"wrapSticky":function(){var t=this.sticky.parentNode;t.className.indexOf("sticky-container")!==-1?this.jsWrapper=t:(this.jsWrapper=document.createElement("div"),this.jsWrapper.className="js-sticky-container",gn.wrap(this.sticky,this.jsWrapper)),this.isWrapped=!0},"getFixedBreakpoint":function(){return"top"===c?n:o-n},"getAbsoluteBreakpoint":function(){return!!s&&("top"===c?this.stickyHeight+n:o)},"updateSizes":function(){var t=window.getComputedStyle(this.sticky),i=/\d/,s=null===i.exec(t.marginLeft)?0:parseInt(Length.toPx(sticky,t.marginLeft)),e=null===i.exec(t.marginRight)?0:parseInt(Length.toPx(sticky,t.marginRight)),n=null===i.exec(t.marginTop)?0:parseInt(Length.toPx(sticky,t.marginTop)),c=null===i.exec(t.marginBottom)?0:parseInt(Length.toPx(sticky,t.marginBottom));this.stickyWidth=this.jsWrapper.clientWidth-s-e,this.stickyHeight=this.sticky.offsetHeight+n+c,this.isFixedBreakpoint=this.getFixedBreakpoint(),this.isAbsoluteBreakpoint=this.getAbsoluteBreakpoint()},"destory":function(){this.sticky.className=this.stickyClassNames,this.sticky.style.width="",this.sticky.style[c]="",gn.unwrap(this.jsWrapper),this.isSticking&&(this.sticky.className=this.sticky.className.replace(" js-sticky",""),this.sticky.style.position="",this.sticky.style.width="",this.sticky.style.top="",this.sticky.style.bottom="",this.isSticking=!1,this.isFixed=!1,this.isAbsolute=!1),this.isInRange=!1,this.isWrapped=!1,this.isSticking=!1,this.isFixed=!1,this.isAbsolute=!1},"checkRange":function(){if(!e)return!0;if("number"==typeof e)return h>=e;if(Array.isArray(e))switch(e.length){case 1:return h>=e[0];case 2:return h>=e[0]&&h<e[1];case 3:return h>=e[0]&&h<e[1]||h>=e[2];case 4:return h>=e[0]&&h<e[1]||h>=e[2]&&h<e[3]}},"init":function(){this.isInRange=this.checkRange(),this.isInRange&&!this.isWrapped?(this.wrapSticky(),this.updateSizes()):!this.isInRange&&this.isWrapped&&this.destory(),this.isWrapped&&(this.stickyRectEdge=this.jsWrapper.getBoundingClientRect()[c],this.containerRectEdge=!!s&&s.getBoundingClientRect().bottom,this.onScroll(),this.isSticking&&(this.sticky.style.width=this.stickyWidth+"px"))},"onResize":function(){window.innerWidth!==h&&(h=window.innerWidth),window.innerHeight!==o&&(o=window.innerHeight),this.init(),this.isWrapped&&this.updateSizes()},"onScroll":function(){this.stickyRectEdge>this.isFixedBreakpoint?this.isSticking&&(this.sticky.className=this.sticky.className.replace(" js-sticky",""),this.jsWrapper.style.height="",this.sticky.style.position="",this.sticky.style.width="",this.sticky.style.top="",this.sticky.style.bottom="",this.isSticking=!1,this.isFixed=!1,this.isAbsolute=!1):(this.isSticking||(this.sticky.className+=" js-sticky",this.sticky.style.width=this.stickyWidth+"px",this.jsWrapper.style.height=this.stickyHeight+"px",this.isSticking=!0),s?!this.isFixed&&this.stickyRectEdge<=this.isFixedBreakpoint&&this.containerRectEdge>this.isAbsoluteBreakpoint?(s.style.position="",this.sticky.style.position="fixed",this.sticky.style[c]=n+"px","top"===c&&(this.sticky.style.bottom=""),this.isFixed=!0,this.isAbsolute=!1):!this.isAbsolute&&this.containerRectEdge<=this.isAbsoluteBreakpoint&&(s.style.position="relative",this.sticky.style.position="absolute","top"===c&&(this.sticky.style.top="",this.sticky.style.bottom="0px"),this.isFixed=!1,this.isAbsolute=!0):!this.isFixed&&this.stickyRectEdge<=this.isFixedBreakpoint&&(this.sticky.style.position="fixed",this.sticky.style[c]=n+"px",this.isFixed=!0))}},gn.ready(function(){var e=document.querySelectorAll(t.sticky),n=[];if(0===e.length)throw new Error('"'+t.sticky+"\" doesn't exist.");s=!!t.container&&document.querySelector(t.container);for(var c=e.length;c--;)n.push(new i(e[c]));return n})}}();
//# sourceMappingURL=../../sourcemaps/sticky.native.js.map
