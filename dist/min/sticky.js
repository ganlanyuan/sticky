Date.now||(Date.now=function(){return(new Date).getTime()}),function(){"use strict";for(var t=["webkit","moz"],i=0;i<t.length&&!window.requestAnimationFrame;++i){var e=t[i];window.requestAnimationFrame=window[e+"RequestAnimationFrame"],window.cancelAnimationFrame=window[e+"CancelAnimationFrame"]||window[e+"CancelRequestAnimationFrame"]}if(/iP(ad|hone|od).*OS 6/.test(window.navigator.userAgent)||!window.requestAnimationFrame||!window.cancelAnimationFrame){var s=0;window.requestAnimationFrame=function(t){var i=Date.now(),e=Math.max(s+16,i);return setTimeout(function(){t(s=e)},e-i)},window.cancelAnimationFrame=clearTimeout}}(),function(t,i,e){"use strict";function s(t,i,s,o){s=s||"width";var r,c,h,l=(i.match(d)||[])[2],u="px"===l?1:p[l+"toPx"],y=/r?em/i;if(u||y.test(l)&&!o)t=u?t:"rem"===l?a:"fontSize"===s?t.parentNode||t:t,u=u||parseFloat(n(t,"fontSize")),h=parseFloat(i)*u;else{r=t.style,c=r[s];try{r[s]=i}catch(t){return 0}h=r[s]?parseFloat(n(t,s)):0,r[s]=c!==e?c:null}return h}function n(t,i){var e,r,a,c,p,l=/^top|bottom/,u=["paddingTop","paddingBottom","borderTop","borderBottom"],y=4;if(e=h?h(t)[i]:(r=t.style["pixel"+i.charAt(0).toUpperCase()+i.slice(1)])?r+"px":"fontSize"===i?s(t,"1em","left",1)+"px":t.currentStyle[i],a=(e.match(d)||[])[2],"%"===a&&o)if(l.test(i)){for(c=(p=t.parentNode||t).offsetHeight;y--;)c-=parseFloat(n(p,u[y]));e=parseFloat(e)/100*c+"px"}else e=s(t,e);else("auto"===e||a&&"px"!==a)&&h?e=0:a&&"px"!==a&&!h&&(e=s(t,e)+"px");return e}var o,r=i.createElement("test"),a=i.documentElement,c=i.defaultView,h=c&&c.getComputedStyle,d=/^(-?[\d+\.\-]+)([a-z]+|%)$/i,p={},l=[1/25.4,1/2.54,1/72,1/6],u=["mm","cm","pt","pc","in","mozmm"],y=6;for(a.appendChild(r),h&&(r.style.marginTop="1%",o="1%"===h(r).marginTop);y--;)p[u[y]+"toPx"]=l[y]?l[y]*p.inToPx:s(r,"1"+u[y]);a.removeChild(r),r=e,t.Length={"toPx":s}}(this,this.document);var gn=function(t){return t}(window.gn||{});gn.optimizedResize=function(){function t(){n||(n=!0,window.requestAnimationFrame?window.requestAnimationFrame(i):setTimeout(i,66))}function i(){s.forEach(function(t){t()}),n=!1}function e(t){t&&s.push(t)}var s=[],n=!1;return{"add":function(i){s.length||window.addEventListener("resize",t),e(i)}}}(),gn.extend=function(){for(var t,i,e,s=arguments[0]||{},n=1,o=arguments.length;n<o;n++)if(null!==(t=arguments[n]))for(i in t)e=t[i],s!==e&&void 0!==e&&(s[i]=e);return s},gn.ready=function(t){if("function"==typeof t)return"complete"===document.readyState?t():void document.addEventListener("DOMContentLoaded",t,!1)},gn.isNodeList=function(t){return"undefined"!=typeof t.item},gn.wrap=function(t,i){for(var e=gn.isNodeList(t)?t:[t],s=e.length;s--;){var n=s>0?i.cloneNode(!0):i,o=e[s],r=o.parentNode,a=o.nextSibling;n.appendChild(o),a?r.insertBefore(n,a):r.appendChild(n)}},gn.unwrap=function(t){for(var i=gn.isNodeList(t)?t:[t],e=i.length;e--;){for(var s=i[e],n=s.parentNode;s.firstChild;)n.insertBefore(s.firstChild,s);n.removeChild(s)}};var sticky=function(){"use strict";return function(t){function i(t){this.sticky=t,this.stickyClassNames=this.sticky.className,this.isInRange=!1,this.isWrapped=!1,this.isSticking=!1,this.isFixed=!1,this.isAbsolute=!1,this.stickyRectEdge=0,this.containerRectEdge=!1,this.init();var i=this;gn.optimizedResize.add(function(){i.onResize()}),window.addEventListener("scroll",function(){i.ticking=!1,i.isWrapped&&(i.stickyRectEdge=i.jsWrapper.getBoundingClientRect()[o],i.containerRectEdge=!!e&&e.getBoundingClientRect().bottom,i.ticking||window.requestAnimationFrame(function(){i.isWrapped&&i.onScroll(),i.ticking=!1}),i.ticking=!0)})}t=gn.extend({"sticky":".sticky","container":!1,"padding":0,"position":"top","breakpoints":!1},t||{});var e,s=t.breakpoints,n=t.padding,o=t.position,r=window.innerWidth,a=window.innerHeight;i.prototype={"wrapSticky":function(){var t=this.sticky.parentNode;t.className.indexOf("sticky-container")!==-1?this.jsWrapper=t:(this.jsWrapper=document.createElement("div"),this.jsWrapper.className="js-sticky-container",gn.wrap(this.sticky,this.jsWrapper)),this.isWrapped=!0},"getFixedBreakpoint":function(){return"top"===o?n:a-n},"getAbsoluteBreakpoint":function(){return!!e&&("top"===o?this.stickyHeight+n:a)},"updateSizes":function(){var t=window.getComputedStyle(this.sticky),i=/\d/,e=null===i.exec(t.marginLeft)?0:parseInt(Length.toPx(sticky,t.marginLeft)),s=null===i.exec(t.marginRight)?0:parseInt(Length.toPx(sticky,t.marginRight)),n=null===i.exec(t.marginTop)?0:parseInt(Length.toPx(sticky,t.marginTop)),o=null===i.exec(t.marginBottom)?0:parseInt(Length.toPx(sticky,t.marginBottom));this.stickyWidth=this.jsWrapper.clientWidth-e-s,this.stickyHeight=this.sticky.offsetHeight+n+o,this.isFixedBreakpoint=this.getFixedBreakpoint(),this.isAbsoluteBreakpoint=this.getAbsoluteBreakpoint()},"destory":function(){this.sticky.className=this.stickyClassNames,this.sticky.style.width="",this.sticky.style[o]="",gn.unwrap(this.jsWrapper),this.isSticking&&(this.sticky.className=this.sticky.className.replace(" js-sticky",""),this.sticky.style.position="",this.sticky.style.width="",this.sticky.style.top="",this.sticky.style.bottom="",this.isSticking=!1,this.isFixed=!1,this.isAbsolute=!1),this.isInRange=!1,this.isWrapped=!1,this.isSticking=!1,this.isFixed=!1,this.isAbsolute=!1},"checkRange":function(){if(!s)return!0;if("number"==typeof s)return r>=s;if(Array.isArray(s))switch(s.length){case 1:return r>=s[0];case 2:return r>=s[0]&&r<s[1];case 3:return r>=s[0]&&r<s[1]||r>=s[2];case 4:return r>=s[0]&&r<s[1]||r>=s[2]&&r<s[3]}},"init":function(){this.isInRange=this.checkRange(),this.isInRange&&!this.isWrapped?(this.wrapSticky(),this.updateSizes()):!this.isInRange&&this.isWrapped&&this.destory(),this.isWrapped&&(this.stickyRectEdge=this.jsWrapper.getBoundingClientRect()[o],this.containerRectEdge=!!e&&e.getBoundingClientRect().bottom,this.onScroll(),this.isSticking&&(this.sticky.style.width=this.stickyWidth+"px"))},"onResize":function(){window.innerWidth!==r&&(r=window.innerWidth),window.innerHeight!==a&&(a=window.innerHeight),this.init(),this.isWrapped&&this.updateSizes()},"onScroll":function(){this.stickyRectEdge>this.isFixedBreakpoint?this.isSticking&&(this.sticky.className=this.sticky.className.replace(" js-sticky",""),this.jsWrapper.style.height="",this.sticky.style.position="",this.sticky.style.width="",this.sticky.style.top="",this.sticky.style.bottom="",this.isSticking=!1,this.isFixed=!1,this.isAbsolute=!1):(this.isSticking||(this.sticky.className+=" js-sticky",this.sticky.style.width=this.stickyWidth+"px",this.jsWrapper.style.height=this.stickyHeight+"px",this.isSticking=!0),e?!this.isFixed&&this.stickyRectEdge<=this.isFixedBreakpoint&&this.containerRectEdge>this.isAbsoluteBreakpoint?(e.style.position="",this.sticky.style.position="fixed",this.sticky.style[o]=n+"px","top"===o&&(this.sticky.style.bottom=""),this.isFixed=!0,this.isAbsolute=!1):!this.isAbsolute&&this.containerRectEdge<=this.isAbsoluteBreakpoint&&(e.style.position="relative",this.sticky.style.position="absolute","top"===o&&(this.sticky.style.top="",this.sticky.style.bottom="0px"),this.isFixed=!1,this.isAbsolute=!0):!this.isFixed&&this.stickyRectEdge<=this.isFixedBreakpoint&&(this.sticky.style.position="fixed",this.sticky.style[o]=n+"px",this.isFixed=!0))}},gn.ready(function(){var s=document.querySelectorAll(t.sticky),n=[];if(0===s.length)throw new Error('"'+t.sticky+"\" doesn't exist.");e=!!t.container&&document.querySelector(t.container);for(var o=s.length;o--;)n.push(new i(s[o]));return n})}}();
//# sourceMappingURL=../../sourcemaps/sticky.js.map
